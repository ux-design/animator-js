<!doctype html>
<html>
    <head>
        <meta charset = "utf-8">
        <style>
            p {
                font-family                 :   "Helvetica Neue", arial ;
                font-weight                 :   bolder ;
                color                       :   black ;
                font-size                   :   14px ;
                line-height                 :   14px ;
                text-align                  :   left ;
            }

            body {
                overflow                    :   hidden ;
            }

            .ball {
                position                    :   absolute ;
                left                        :   0px ;
                top                         :   0px ;
                width                       :   30px ;
                overflow                    :   visible ;
                height                      :   50px ;
                text-align                  :   center ;
                opacity                     :   0 ;
                -webkit-transform-origin    :   50% 50% ;
                -moz-transform-origin       :   50% 50% ;
                -o-transform-origin         :   50% 50% ;
                -ms-transform-origin        :   50% 50% ;
                transform-origin            :   50% 50% ;
                border                      :   solid 0px black ;
                font-family                 :   "Courier" ;
                font-weight                 :   bolder ;
                color                       :   black ;
                font-size                   :   50px ;
                line-height                 :   50px ;
                text-align                  :   center ;
            }
        </style>
    </head>
    <body>
        <p>RELOAD PAGE TO SEE OTHER TEXT!</p>
        <script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script>
        <script type="text/javascript" src="../animator.js"></script>
        <script>


            var w = window.innerWidth ;
            var h = window.innerHeight ;
            var q = 0 ;

            var frasi = [
            'Writing code makes me feel good',
            'This is an example of Animator-js',
            'You can do this in a very easy way',
            'This is Hardware Accelerated',
            'Write a few lines of code is always better',
            'Can you do this on runtime?',
            'Hi! This is a demo'
            ] ;


            var write = function( text ){
                var x = 0 ;
                var tot = text.length ;
                var d ;
                var letW ;
                var stringa ; 
                var stringhe = "" ;

                for( x = 0 ; x < tot ; x++  ) {
                    var lettera = text.substr( x, 1 ) ;
                    console.log( lettera );
                    var rgb =  parseInt(Math.abs( Math.random() * 255 )) + ',' + parseInt(Math.abs( Math.random() * 255 )) + ',' + parseInt(Math.abs( Math.random() * 255 )) ;
                    stringa = '<div class="ball" id="let' + x + '"><span style="color:rgb('+rgb+');">' + lettera + '</span></div>' ;
                    stringhe += stringa ;
                }

                $( 'body' ).append( stringhe ) ;

                for( x = 0 ; x < tot ; x++  ) {
                    letW = $( '#let' + x ).width() ;
                    animWrite( x, '#let' , 100 + ( letW * x ) , 100, 720, 1, 1, 100, 1, 'ease-in-out' ) ; 
                }
            }

            var animWrite = function( i, target, x, y, r, s, o, blur, time, ease ) {
                setTimeout( function(){
                    var a = new Animator( target+i, "move" ) ;
                    a.animate( target + i, x - ( Math.random() * 600 ) , 200 - ( Math.random() * 600 ), 0, 0, 0, blur, 0, ease ) ;
                    a.animate( target + i, x, y, r, s, o, 0, time, ease ) ;
                }, 100 * i ) ;

                setTimeout( function(){
                    var b = new Animator( target+i, "remove" ) ;
                    b.animate( target + i, x, y, r, s, o, 0, 0, ease ) ;
                    b.animate( target + i, x - ( Math.random() * 600 ) , 200 + ( Math.random() * 600 ), 0, 0, 0, blur, time, ease ) ;
                }, (100 * i) + 5000 ) ;
            }
            
            var f = parseInt( Math.abs( Math.random() * frasi.length )) ;
            console.log( f );
            write( frasi[f] );


        </script>
    </body>
</html>