var Animator=Animator||{};Animator.$$=function(){"use strict";var a,b=function(){var a,b,c,d=navigator.userAgent;return d.match(/MSIE 10/i)||d.match(/like Gecko/i)||d.match(/iPad/i)||d.match(/iPhone/i)||d.match(/iPod/i)?!0:(a="Chrome",d.match(/Chrome/i)&&(nameLen=a.length,b=d.indexOf(a),c=d.substring(nameLen+b+1,nameLen+b+3),c=c.replace(".",""),c>=4)?!0:(a="Firefox",d.match(/Firefox/i)&&(nameLen=a.length,b=d.indexOf(a),c=d.substring(nameLen+b+1,nameLen+b+3),c=c.replace(".",""),c>=17)?!0:(a="Version",d.match(/Safari/i)&&(nameLen=a.length,b=d.indexOf(a),c=d.substring(nameLen+b+1,nameLen+b+3),c=c.replace(".",""),c>=4)?!0:!1)))},c=[],d=[],e="",f=function(){var a,b=0,c=document.body.style;return"transform"in c&&(b++,a=""),"-webkit-transform"in c&&(b++,a="-webkit-"),"-moz-transform"in c&&(b++,a="-moz-"),"-o-transform"in c&&(b++,a="-o-"),"-ms-transform"in c&&(b++,a="-ms-"),b>0&&(b=1),a},g=function(a){return $(a).attr({left:$(a).position().left,top:$(a).position().top,rotation:0,scale:1,opacity:$(a).css("opacity"),blur:0}),!0},h=function(b,f,h,i,j,k,l,m,n,o){this.currentTargetElement!=b&&g(b);var p=c.length;c.push({id:p,targetElement:b,css3Class:f,x:h,y:i,r:j,s:k,o:l,blur:m,duration:n,ease:o}),d.push({id:p,targetElement:b,css3Class:f,x:h,y:i,r:j,s:k,o:l,blur:m,duration:n,ease:o});{var q=$(b).get(0).attributes,r=q.left.value,s=q.top.value,t=q.rotation.value,u=q.scale.value,v=q.opacity.value;q.blur.value}if(-1!=m)var w=a+"filter: blur("+m+"px);";else var w="";var x=f+p;e+="@"+a+"keyframes "+x+"{\n    from{ opacity: "+v+" ; "+a+"transform: translateX("+r+"px) translateY("+s+"px) rotate("+t+"deg) scale("+u+"); }\n    to{ opacity: "+l+" ; "+a+"transform: translateX("+h+"px) translateY("+i+"px) rotate("+j+"deg) scale("+k+"); "+w+" }\n}\n."+x+"{"+a+"animation-name:"+x+";"+a+"animation-duration:"+n+"s;    "+a+"animation-fill-mode: both; "+a+"animation-timing-function: "+o+";}\n\n"},i=function(){return $("style").append(e),e="",!0},j=function(a){$(a.targetElement).addClass(a.css3Class+a.id),$(a.targetElement).attr({left:a.x,top:a.y,rotation:a.r,scale:a.s,opacity:a.o,blur:a.blur})},k=function(b){$(b.targetElement).removeClass(b.css3Class+b.id),$(b.targetElement).css(a+"transform","translateX("+b.x+"px) translateY("+b.y+"px) scale("+b.s+", "+b.s+") rotate("+b.r+"deg)"),$(b.targetElement).css(a+"filter","blur("+b.blur+"px)"),$(b.targetElement).css("opacity",b.o)},l=function(){for(var a=0,b=0,c=0;c<d.length;++c){var e=d[c];b=a+e.duration,a+=e.duration,function(a,b){setTimeout(function(){j(a)},1e3*b)}(e,b),function(a,b){setTimeout(function(){k(a)},1e3*b+1e3*a.duration)}(e,b)}};return a||(a=f()),{isActive:b(),addAnimation:h,inject:i,begin:l}}();