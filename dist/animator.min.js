var Animator=Animator||{};Animator.$$=function(){"use strict";var a,b=[],c=[],d="",e=function(){var a,b,c,d,e=navigator.userAgent;return e.match(/MSIE 10/i)||e.match(/like Gecko/i)||e.match(/iPad/i)||e.match(/iPhone/i)||e.match(/iPod/i)?!0:(a="Chrome",e.match(/Chrome/i)&&(b=a.length,c=e.indexOf(a),d=e.substring(b+c+1,b+c+3),d=d.replace(".",""),d>=4)?!0:(a="Firefox",e.match(/Firefox/i)&&(b=a.length,c=e.indexOf(a),d=e.substring(b+c+1,b+c+3),d=d.replace(".",""),d>=17)?!0:(a="Version",e.match(/Safari/i)&&(b=a.length,c=e.indexOf(a),d=e.substring(b+c+1,b+c+3),d=d.replace(".",""),d>=4)?!0:!1)))},f=function(){var a,b=0,c=document.body.style;return"transform"in c&&(b++,a=""),"-webkit-transform"in c&&(b++,a="-webkit-"),"-moz-transform"in c&&(b++,a="-moz-"),"-o-transform"in c&&(b++,a="-o-"),"-ms-transform"in c&&(b++,a="-ms-"),b>0&&(b=1),a},g=function(a){return $(a).attr({left:$(a).position().left,top:$(a).position().top,rotation:0,scale:1,opacity:$(a).css("opacity"),blur:0}),!0},h=function(e,f,h,i,j,k,l,m,n,o,p){this.currentTargetElement!=e&&g(e);var q=b.length;b.push({id:q,targetElement:e,css3Class:f,x:h,y:i,r:j,s:k,o:l,blur:m,start:n,duration:o,ease:p}),c.push({id:q,targetElement:e,css3Class:f,x:h,y:i,r:j,s:k,o:l,blur:m,start:n,duration:o,ease:p});{var r=$(e).get(0).attributes;r.left.value,r.top.value,r.rotation.value,r.scale.value,r.opacity.value,r.blur.value}if(-1!=m)var s=a+"filter: blur("+m+"px);";else var s="";var t=f+q;d+="@"+a+"keyframes "+t+"{\n to{ opacity: "+l+" ; "+a+"transform: translateX("+h+"px) translateY("+i+"px) rotate("+j+"deg) scale("+k+"); "+s+" }\n}\n."+t+"{"+a+"animation-name:"+t+";"+a+"animation-duration:"+o+"s;    "+a+"animation-fill-mode: both; "+a+"animation-timing-function: "+p+";}\n\n"},i=function(){return $("style").append(d),d="",!0},j=function(a){$(a.targetElement).addClass(a.css3Class+a.id),$(a.targetElement).attr({left:a.x,top:a.y,rotation:a.r,scale:a.s,opacity:a.o,blur:a.blur})},k=function(b){$(b.targetElement).removeClass(b.css3Class+b.id),$(b.targetElement).css(a+"transform","translateX("+b.x+"px) translateY("+b.y+"px) scale("+b.s+", "+b.s+") rotate("+b.r+"deg)"),$(b.targetElement).css(a+"filter","blur("+b.blur+"px)"),$(b.targetElement).css("opacity",b.o),console.log(b.targ)},l=function(){for(var a=0,b=0,d=0;a<c.length;++a){var e=c[a];d=b+e.duration,b+=e.duration,e.start>=0&&(d=e.start),function(a,b){setTimeout(function(){j(a)},1e3*b)}(e,d),function(a,b){setTimeout(function(){k(a)},1e3*b+1e3*a.duration)}(e,d)}};return a||(a=f()),{isActive:e(),addAnimation:h,inject:i,begin:l}}();